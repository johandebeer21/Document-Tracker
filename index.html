<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Client Document Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;700&display=swap" rel="stylesheet">
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      background: linear-gradient(to right, #e0eafc, #cfdef3);
      font-family: 'Inter', sans-serif;
    }
    .fade-in {
      animation: fadeIn 0.6s ease-in forwards;
    }
    @keyframes fadeIn {
      0% {opacity: 0; transform: translateY(20px);}
      100% {opacity: 1; transform: translateY(0);}
    }
    .status-badge {
      padding: 0.25rem 0.5rem;
      border-radius: 9999px;
      font-weight: 600;
      font-size: 0.75rem;
    }
  </style>
</head>

<body class="p-6">
  <div class="max-w-4xl mx-auto">
    <div id="clientInfo" class="bg-white rounded-2xl shadow-lg p-6 mb-6 fade-in">
      <h2 class="text-xl font-bold mb-2">ðŸ“Œ Client Info</h2>
      <p><strong>Name:</strong> <span id="clientName"></span></p>
      <p><strong>Surname:</strong> <span id="clientSurname"></span></p>
      <p><strong>Application Type:</strong> <span id="clientAppType"></span></p>
    </div>

    <div id="taskList" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4"></div>
  </div>

  <script>
    const sheetURL = "https://api.allorigins.win/raw?url=https%3A%2F%2Fdocs.google.com%2Fspreadsheets%2Fd%2Fe%2F2PACX-1vQtqULGR-HUX-Lp7ryJrR_KfuG_NeubNjYe3CvCAvDngUHsUf4VXwqZOyCDSScKadslN3JTTBp9ST3Q%2Fpub%3Foutput%3Dcsv";

    fetch(sheetURL)
      .then(res => res.text())
      .then(csv => {
        const rows = csv.split("\n").map(row => row.split(","));
        const [nameLabel, surnameLabel, appTypeLabel] = rows[0];
        const [name, surname, appType] = rows[1];

        document.getElementById("clientName").textContent = name;
        document.getElementById("clientSurname").textContent = surname;
        document.getElementById("clientAppType").textContent = appType;

        const tasks = rows.slice(3); // Skip header + personal info row

        const taskContainer = document.getElementById("taskList");
        tasks.forEach((task, i) => {
          const [taskName, status, assignee, dueDate, priority, completed, description,, updatedAt, effort] = task;
          const statusColor = status.includes("Done") ? 'bg-green-100 text-green-800' :
                              status.includes("In progress") ? 'bg-yellow-100 text-yellow-800' :
                              'bg-gray-200 text-gray-800';

          const card = document.createElement("div");
          card.className = "bg-white rounded-xl p-5 shadow-md fade-in hover:scale-[1.02] transition-transform";
          card.innerHTML = `
            <h3 class="text-lg font-semibold mb-1">${taskName}</h3>
            <div class="mb-2 status-badge ${statusColor}">${status || 'Not started'}</div>
            <p class="text-sm text-gray-600"><strong>Assignee:</strong> ${assignee || 'Unassigned'}</p>
            <p class="text-sm text-gray-600"><strong>Due:</strong> ${dueDate || 'N/A'}</p>
            <p class="text-sm text-gray-600"><strong>Priority:</strong> ${priority || 'Normal'}</p>
            <p class="text-sm text-gray-600"><strong>Completed:</strong> ${completed || 'No'}</p>
            <p class="text-sm text-gray-600"><strong>Updated:</strong> ${updatedAt || 'N/A'}</p>
            <p class="text-sm mt-2">${description || ''}</p>
          `;

          taskContainer.appendChild(card);
        });
      });
  </script>
</body>

</html>








